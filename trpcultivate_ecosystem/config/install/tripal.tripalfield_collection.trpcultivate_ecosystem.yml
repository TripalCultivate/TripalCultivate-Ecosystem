id: 'trpcultivate_ecosystem'
label: 'Tripal Cultivate: Ecosystem Survey Types'
description: 'Provide pages describing content types related to managing ecosystem survey data.'
fields:

## Ecosystem Survey ##
## Chado Table: project
## Required Columns: name (varchar 255)
## Optional columns: description (text)
## Related: projectprop, project_pub, project_relationship
##          array_project, nd_experiment_project, project_analysis, project_contact, project_dbxref, project_feature, project_stock

    -   name: experiment_name
        content_type: ecosystem_survey
        label: Name
        type: chado_string_type_default
        description: The name of the field experiment. It is recommended the name include important details such as siteyears, crop and germplasm collection.
        cardinality: 1
        required: true
        storage_settings:
            storage_plugin_id: chado_storage
            storage_plugin_settings:
                base_table: project
                base_column: name
            max_length: 255
        settings:
            termIdSpace: schema
            termAccession: name
        display:
          view:
            default:
              region: hidden
          form:
            default:
              region: content
              weight: 1


    -   name: experiment_dbxref
        content_type: ecosystem_survey
        label: Digital object identifiers (DOI)
        type: chado_dbxref_type_default
        description: Any persistant digital identifiers (i.e. DOIs) associated with this experiment or datasets produced via this experiment. We suggest submitting final datasets to subject area community databases (e.g. NCBI) and/or registering them with a dataset repository (i.e. zenodo).
        cardinality: -1
        required: false
        storage_settings:
            storage_plugin_id: chado_storage
            storage_plugin_settings:
                base_table: project
                linker_table: project_dbxref
                linker_fkey_column: dbxref_id
        settings:
            termIdSpace: SBO
            termAccession: "0000552"
        display:
          view:
            default:
              region: content
              label: above
              weight: 19
          form:
            default:
              region: content
              weight: 19

    ## ATTRIBUTION FIELDS

    -   name: experiment_datacollector
        content_type: ecosystem_survey
        label: Data Collector
        type: chado_contact_by_role_type_default
        description: The researcher(s) and/or staff who are collecting the data. This includes anyone recording measurements/data (e.g. field staff taking flowering time notes, lab technican measuring gene expression)
        cardinality: -1
        required: false
        storage_settings:
            storage_plugin_id: chado_storage
            storage_plugin_settings:
                base_table: project
                linker_table: project_contact
                linker_fkey_column: contact_id
        settings:
            termIdSpace: AGRO
            termAccession: 00000379
        display:
          view:
            default:
              region: content
              label: above
              weight: 20
          form:
            default:
              region: content
              weight: 20

    -   name: experiment_custodian
        content_type: ecosystem_survey
        label: Data Custodian
        type: chado_contact_by_role_type_default
        description: The core researcher responsible for data produced by this experiment. This is usually the principal investigator or long term researcher as this is the long term contact person for these data.
        cardinality: -1
        required: false
        storage_settings:
            storage_plugin_id: chado_storage
            storage_plugin_settings:
                base_table: project
                linker_table: project_contact
                linker_fkey_column: contact_id
        settings:
            termIdSpace: NCIT
            termAccession: C165210
        display:
          view:
            default:
              region: content
              label: above
              weight: 20
          form:
            default:
              region: content
              weight: 20

    -   name: experiment_curator
        content_type: ecosystem_survey
        label: Data Curator
        type: chado_contact_by_role_type_default
        description: The researcher(s) responsible for curating data produced by this experiment for inclusion in this resource.
        cardinality: -1
        required: false
        storage_settings:
            storage_plugin_id: chado_storage
            storage_plugin_settings:
                base_table: project
                linker_table: project_contact
                linker_fkey_column: contact_id
        settings:
            termIdSpace: NCIT
            termAccession: C69141
        display:
          view:
            default:
              region: content
              label: above
              weight: 20
          form:
            default:
              region: content
              weight: 20

    -   name: experiment_datalicenses
        content_type: ecosystem_survey
        label: Data License(s)
        type: chado_contact_by_role_type_default
        description: The licenses defining how each dataset can be used by others. Add one item per dataset generated by this experiment.
        cardinality: -1
        required: false
        storage_settings:
            storage_plugin_id: chado_storage
            storage_plugin_settings:
                base_table: project
                linker_table: project_contact
                linker_fkey_column: contact_id
        settings:
            termIdSpace: NCIT
            termAccession: C43611
        display:
          view:
            default:
              region: content
              label: above
              weight: 21
          form:
            default:
              region: content
              weight: 21

    -   name: experiment_org
        content_type: ecosystem_survey
        label: Research Organization
        type: chado_contact_by_role_type_default
        description: The primary research organizations (e.g. universities) where the experiment was managed/funded.
        cardinality: -1
        required: false
        storage_settings:
            storage_plugin_id: chado_storage
            storage_plugin_settings:
                base_table: project
                linker_table: project_contact
                linker_fkey_column: contact_id
        settings:
            termIdSpace: NCIT
            termAccession: 'C93448'
        display:
          view:
            default:
              region: content
              label: above
              weight: 22
          form:
            default:
              region: content
              weight: 22

    # Ideally this field would render as an embedded version of the grant project showing funding logos, etc.
    -   name: experiment_funding
        content_type: ecosystem_survey
        label: Funding
        type: chado_contact_by_role_type_default
        description: An acknowledgement of all funding put towards this experiment.
        cardinality: -1
        required: false
        storage_settings:
            storage_plugin_id: chado_storage
            storage_plugin_settings:
                base_table: project
                linker_table: project_contact
                linker_fkey_column: contact_id
        settings:
            termIdSpace: EFO
            termAccession: '0001736'
        display:
          view:
            default:
              region: content
              label: above
              weight: 22
          form:
            default:
              region: content
              weight: 22

    # @todo update to chado_pub_type_default with type specified Chado#140
    -   name: experiment_citation
        content_type: ecosystem_survey
        label: Data Citation
        type: chado_contact_by_role_type_default
        description: The citation which should be used to provide attribution for data produced in this experiment. How one should use this citation is dictated by the data license.
        cardinality: -1
        required: false
        storage_settings:
            storage_plugin_id: chado_storage
            storage_plugin_settings:
                base_table: project
                linker_table: project_contact
                linker_fkey_column: contact_id
        settings:
            termIdSpace: NCIT
            termAccession: C41196
        display:
          view:
            default:
              region: content
              label: above
              weight: 2
          form:
            default:
              region: content
              weight: 23

    -   name: experiment_pub
        content_type: ecosystem_survey
        label: Publication(s)
        type: chado_pub_type_default
        description: Any publications produced as part of this experiment or as a result of this experiment.
        cardinality: -1
        required: false
        storage_settings:
            storage_plugin_id: chado_storage
            storage_plugin_settings:
                base_table: project
                linker_table: project_pub
                linker_fkey_column: pub_id
        settings:
            termIdSpace: TPUB
            termAccession: "0000002"
        display:
          view:
            default:
              region: content
              label: above
              weight: 24
          form:
            default:
              region: content
              weight: 24

    -   name: experiment_description
        content_type: ecosystem_survey
        label: Experiment Summary
        type: chado_text_type_default
        description: Describe the experimental design and purpose in great detail. Include all the information you would need to analyze data from this experiment.
        cardinality: 1
        required: false
        storage_settings:
            storage_plugin_id: chado_storage
            storage_plugin_settings:
                base_table: project
                base_column: description
        settings:
            termIdSpace: schema
            termAccession: description
        display:
          view:
            default:
              region: content
              label: above
              weight: 100
          form:
            default:
              region: content
              weight: 100
